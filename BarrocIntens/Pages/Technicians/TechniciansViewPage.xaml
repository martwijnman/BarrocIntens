<Page
    x:Class="BarrocIntens.Pages.Technicians.TechniciansViewPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:models="using:BarrocIntens.Data"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="#0B0B0B">

    <!-- PAGE GRID -->
    <Grid Background="#0B0B0B" Padding="0,0,0,0">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*" />
            <ColumnDefinition Width="3*" />
        </Grid.ColumnDefinitions>

        <!-- =====================
             LEFT: TECHNICIANS
             ===================== -->
        <Grid Grid.Column="0" RowSpacing="16">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Search -->
            <TextBox
                x:Name="TechniciansNameSearchTextBox"
                PlaceholderText="Zoek op naam..."
                TextChanged="TechniciansNameSearchTextBox_TextChanged"
                Foreground="Yellow"
                Margin="10"/>

            <!-- Technicians list -->
            <ListView
                Grid.Row="1"
                x:Name="TechniciansListView"
                IsItemClickEnabled="True"
                ItemClick="TechniciansListView_ItemClick"
                Background="#141414"
                BorderBrush="#2A2A2A"
                BorderThickness="1"
                Padding="10">

                <ListView.ItemTemplate>
                    <DataTemplate x:DataType="models:Employee">
                        <Border
                            Background="#0F0F0F"
                            CornerRadius="10"
                            Padding="12"
                            Margin="0,0,0,12">

                            <StackPanel Spacing="6">
                                <TextBlock Foreground="Yellow">
                                    <Run Text="(#"/>
                                    <Run Text="{x:Bind Id}"/>
                                    <Run Text=") "/>
                                    <Run Text="{x:Bind Name}"/>
                                </TextBlock>

                                <TextBlock
                                    Text="{x:Bind Email}"
                                    Foreground="#B5B5B5"/>

                                <Button
                                    HorizontalAlignment="Left"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    Click="UpdateButton_Click">
                                    <FontIcon
                                        FontFamily="Segoe Fluent Icons"
                                        Glyph="&#xE104;"
                                        Foreground="Yellow"/>
                                </Button>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Grid>

        <!-- =====================
             RIGHT: PRODUCTS
             ===================== -->
        <ScrollViewer Grid.Column="1" HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto">
            <ItemsControl x:Name="ProductView" Background="Transparent">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapGrid Orientation="Horizontal" ItemWidth="260" ItemHeight="480" MaximumRowsOrColumns="0"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate x:DataType="models:Product">
                        <Border
                            Width="260"
                            Height="480"
                            Background="#141414"
                            CornerRadius="20"
                            Padding="16"
                            Margin="8">

                            <StackPanel Spacing="16">
                                <Image
                                    Source="{x:Bind ImagePath}"
                                    Height="140"
                                    Stretch="UniformToFill"/>

                                <TextBlock
                                    Text="{x:Bind Name}"
                                    FontSize="17"
                                    FontWeight="SemiBold"
                                    Foreground="White"
                                    TextWrapping="Wrap"
                                    MaxLines="2"/>

                                <TextBlock
                                    Text="{x:Bind Price}"
                                    FontSize="16"
                                    FontWeight="Bold"
                                    Foreground="#FFD600"/>

                                <Border
                                    Background="#0F0F0F"
                                    Padding="6,3"
                                    CornerRadius="8"
                                    BorderBrush="#2A2A2A"
                                    BorderThickness="1"
                                    HorizontalAlignment="Left">
                                    <TextBlock
                                        Text="{x:Bind Stock}"
                                        FontSize="12"
                                        Foreground="#B5B5B5"/>
                                </Border>

                                <StackPanel Orientation="Horizontal" Spacing="10">
                                    <Button
                                        Content="Detail"
                                        Width="82"
                                        Background="Transparent"
                                        Foreground="#FFD600"
                                        BorderBrush="#FFD600"
                                        BorderThickness="1"
                                        CornerRadius="10"
                                        Click="ProductClick"/>

                                    <Button
                                        Content="+"
                                        Width="42"
                                        Background="#FFD600"
                                        Foreground="Black"
                                        CornerRadius="10"
                                        Click="PlusClick"/>

                                    <Button
                                        Content="-"
                                        Width="42"
                                        Background="#FFD600"
                                        Foreground="Black"
                                        CornerRadius="10"
                                        Click="MinClick"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</Page>
